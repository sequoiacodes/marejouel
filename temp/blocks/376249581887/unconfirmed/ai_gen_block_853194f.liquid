{% doc %}
  @prompt
    Create a flexible image and text section with one side displaying a tall, narrow image with portrait orientation and the other side containing customizable text content. The image should have full height and width controls optimized for tall portrait images, with custom dimensions and aspect ratio controls that favor vertical layouts. Add background image settings for the entire section with overlay options. Include comprehensive settings for layout control (image left/right positioning), complete image sizing with height and width controls specifically for tall narrow images, and styling controls. For the text side, structure the content in this order: subheading first, then main heading, then body text. Provide full control over each text element with individual formatting options - including font sizes, colors, weights, line heights, spacing, and text alignment controls (left, center, right, justify). Add extensive padding controls for the text block with individual padding settings for top, bottom, left, and right sides. Include background colors, section background image options, and mobile responsiveness. The section should allow merchants to easily swap positions and fully customize all text elements with complete alignment control, padding control, and tall image dimensions independently.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-image-text-section-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    min-height: {{ block.settings.section_min_height }}px;
    background-color: {{ block.settings.section_bg_color }};
    {% if block.settings.section_bg_image %}
      background-image: url('{{ block.settings.section_bg_image | image_url: width: 2000 }}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
  }

  .ai-image-text-section-{{ ai_gen_id }}::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: {{ block.settings.section_bg_overlay_color }};
    opacity: {{ block.settings.section_bg_overlay_opacity }};
    pointer-events: none;
  }

  .ai-image-text-container-{{ ai_gen_id }} {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: stretch;
    min-height: {{ block.settings.section_min_height }}px;
    {% if block.settings.layout_direction == 'image_right' %}
      flex-direction: row-reverse;
    {% endif %}
  }

  .ai-image-side-{{ ai_gen_id }} {
    flex: 0 0 {{ block.settings.image_width_percentage }}%;
    position: relative;
    overflow: hidden;
  }

  .ai-image-wrapper-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    position: relative;
    overflow: hidden;
  }

  .ai-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: {{ block.settings.image_fit }};
    object-position: {{ block.settings.image_position }};
  }

  .ai-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-text-side-{{ ai_gen_id }} {
    flex: 1;
    display: flex;
    align-items: {{ block.settings.text_vertical_alignment }};
    background-color: {{ block.settings.text_bg_color }};
    padding-top: {{ block.settings.text_padding_top }}px;
    padding-bottom: {{ block.settings.text_padding_bottom }}px;
    padding-left: {{ block.settings.text_padding_left }}px;
    padding-right: {{ block.settings.text_padding_right }}px;
  }

  .ai-text-content-{{ ai_gen_id }} {
    width: 100%;
    max-width: {{ block.settings.text_max_width }}px;
    {% if block.settings.text_horizontal_alignment == 'center' %}
      margin: 0 auto;
    {% elsif block.settings.text_horizontal_alignment == 'right' %}
      margin-left: auto;
    {% endif %}
  }

  .ai-subheading-{{ ai_gen_id }} {
    font-size: {{ block.settings.subheading_font_size }}px;
    font-weight: {{ block.settings.subheading_font_weight }};
    line-height: {{ block.settings.subheading_line_height }};
    color: {{ block.settings.subheading_color }};
    text-align: {{ block.settings.subheading_alignment }};
    margin: 0 0 {{ block.settings.subheading_margin_bottom }}px 0;
    letter-spacing: {{ block.settings.subheading_letter_spacing }}em;
    text-transform: {{ block.settings.subheading_text_transform }};
  }

  .ai-heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_font_size }}px;
    font-weight: {{ block.settings.heading_font_weight }};
    line-height: {{ block.settings.heading_line_height }};
    color: {{ block.settings.heading_color }};
    text-align: {{ block.settings.heading_alignment }};
    margin: 0 0 {{ block.settings.heading_margin_bottom }}px 0;
    letter-spacing: {{ block.settings.heading_letter_spacing }}em;
    text-transform: {{ block.settings.heading_text_transform }};
  }

  .ai-body-text-{{ ai_gen_id }} {
    font-size: {{ block.settings.body_font_size }}px;
    font-weight: {{ block.settings.body_font_weight }};
    line-height: {{ block.settings.body_line_height }};
    color: {{ block.settings.body_color }};
    text-align: {{ block.settings.body_alignment }};
    margin: 0;
    letter-spacing: {{ block.settings.body_letter_spacing }}em;
  }

  .ai-body-text-{{ ai_gen_id }} p {
    margin: 0 0 1em 0;
  }

  .ai-body-text-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  @media screen and (max-width: 768px) {
    .ai-image-text-container-{{ ai_gen_id }} {
      flex-direction: column;
      {% if block.settings.mobile_image_position == 'bottom' %}
        flex-direction: column-reverse;
      {% endif %}
    }

    .ai-image-side-{{ ai_gen_id }} {
      flex: none;
    }

    .ai-image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.mobile_image_height }}px;
    }

    .ai-text-side-{{ ai_gen_id }} {
      padding-top: {{ block.settings.mobile_text_padding_top }}px;
      padding-bottom: {{ block.settings.mobile_text_padding_bottom }}px;
      padding-left: {{ block.settings.mobile_text_padding_left }}px;
      padding-right: {{ block.settings.mobile_text_padding_right }}px;
    }

    .ai-subheading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_subheading_font_size }}px;
    }

    .ai-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_heading_font_size }}px;
    }

    .ai-body-text-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_body_font_size }}px;
    }
  }
{% endstyle %}

<div class="ai-image-text-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-image-text-container-{{ ai_gen_id }}">
    <div class="ai-image-side-{{ ai_gen_id }}">
      <div class="ai-image-wrapper-{{ ai_gen_id }}">
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width: 1000 }}"
            alt="{{ block.settings.image.alt | escape }}"
            class="ai-image-{{ ai_gen_id }}"
            loading="lazy"
            width="{{ block.settings.image.width }}"
            height="{{ block.settings.image.height }}"
          >
        {% else %}
          <div class="ai-image-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
          </div>
        {% endif %}
      </div>
    </div>

    <div class="ai-text-side-{{ ai_gen_id }}">
      <div class="ai-text-content-{{ ai_gen_id }}">
        {% if block.settings.subheading != blank %}
          <div class="ai-subheading-{{ ai_gen_id }}">
            {{ block.settings.subheading }}
          </div>
        {% endif %}

        {% if block.settings.heading != blank %}
          <h2 class="ai-heading-{{ ai_gen_id }}">
            {{ block.settings.heading }}
          </h2>
        {% endif %}

        {% if block.settings.body_text != blank %}
          <div class="ai-body-text-{{ ai_gen_id }}">
            {{ block.settings.body_text }}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image and text",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "layout_direction",
      "label": "Layout",
      "options": [
        {
          "value": "image_left",
          "label": "Image left"
        },
        {
          "value": "image_right",
          "label": "Image right"
        }
      ],
      "default": "image_left"
    },
    {
      "type": "range",
      "id": "image_width_percentage",
      "min": 30,
      "max": 70,
      "step": 5,
      "unit": "%",
      "label": "Image width",
      "default": 50
    },
    {
      "type": "range",
      "id": "section_min_height",
      "min": 300,
      "max": 1000,
      "step": 50,
      "unit": "px",
      "label": "Section minimum height",
      "default": 600
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 400,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Image height",
      "default": 800
    },
    {
      "type": "select",
      "id": "image_fit",
      "label": "Image fit",
      "options": [
        {
          "value": "cover",
          "label": "Cover"
        },
        {
          "value": "contain",
          "label": "Contain"
        },
        {
          "value": "fill",
          "label": "Fill"
        }
      ],
      "default": "cover"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Text content"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Discover our collection</p>"
    },
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading",
      "default": "<p>Beautiful products for modern living</p>"
    },
    {
      "type": "richtext",
      "id": "body_text",
      "label": "Body text",
      "default": "<p>Explore our carefully curated selection of premium products designed to enhance your everyday life. Each item is chosen for its quality, style, and functionality.</p>"
    },
    {
      "type": "header",
      "content": "Text layout"
    },
    {
      "type": "select",
      "id": "text_vertical_alignment",
      "label": "Vertical alignment",
      "options": [
        {
          "value": "flex-start",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Bottom"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "text_horizontal_alignment",
      "label": "Horizontal alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "text_max_width",
      "min": 300,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Text maximum width",
      "default": 600
    },
    {
      "type": "header",
      "content": "Text padding"
    },
    {
      "type": "range",
      "id": "text_padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Top padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "text_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Bottom padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "text_padding_left",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Left padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "text_padding_right",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Right padding",
      "default": 40
    },
    {
      "type": "header",
      "content": "Subheading style"
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "min": 10,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "select",
      "id": "subheading_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "500"
    },
    {
      "type": "range",
      "id": "subheading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.4
    },
    {
      "type": "range",
      "id": "subheading_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0.1
    },
    {
      "type": "select",
      "id": "subheading_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "select",
      "id": "subheading_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "justify",
          "label": "Justify"
        }
      ],
      "default": "left"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "subheading_margin_bottom",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Bottom margin",
      "default": 15
    },
    {
      "type": "header",
      "content": "Heading style"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 20,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Font size",
      "default": 36
    },
    {
      "type": "select",
      "id": "heading_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "heading_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0
    },
    {
      "type": "select",
      "id": "heading_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "heading_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "justify",
          "label": "Justify"
        }
      ],
      "default": "left"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Bottom margin",
      "default": 20
    },
    {
      "type": "header",
      "content": "Body text style"
    },
    {
      "type": "range",
      "id": "body_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "select",
      "id": "body_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "body_line_height",
      "min": 1,
      "max": 2.5,
      "step": 0.1,
      "label": "Line height",
      "default": 1.6
    },
    {
      "type": "range",
      "id": "body_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0
    },
    {
      "type": "select",
      "id": "body_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "justify",
          "label": "Justify"
        }
      ],
      "default": "left"
    },
    {
      "type": "color",
      "id": "body_color",
      "label": "Color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "section_bg_color",
      "label": "Section background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_bg_color",
      "label": "Text area background",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Section background image"
    },
    {
      "type": "image_picker",
      "id": "section_bg_image",
      "label": "Background image"
    },
    {
      "type": "color",
      "id": "section_bg_overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "section_bg_overlay_opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "label": "Overlay opacity",
      "default": 0
    },
    {
      "type": "header",
      "content": "Mobile settings"
    },
    {
      "type": "select",
      "id": "mobile_image_position",
      "label": "Image position on mobile",
      "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        }
      ],
      "default": "top"
    },
    {
      "type": "range",
      "id": "mobile_image_height",
      "min": 200,
      "max": 600,
      "step": 50,
      "unit": "px",
      "label": "Mobile image height",
      "default": 300
    },
    {
      "type": "range",
      "id": "mobile_text_padding_top",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Mobile top padding",
      "default": 30
    },
    {
      "type": "range",
      "id": "mobile_text_padding_bottom",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Mobile bottom padding",
      "default": 30
    },
    {
      "type": "range",
      "id": "mobile_text_padding_left",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Mobile left padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_text_padding_right",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Mobile right padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_subheading_font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Mobile subheading font size",
      "default": 12
    },
    {
      "type": "range",
      "id": "mobile_heading_font_size",
      "min": 16,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Mobile heading font size",
      "default": 28
    },
    {
      "type": "range",
      "id": "mobile_body_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Mobile body font size",
      "default": 14
    }
  ],
  "presets": [
    {
      "name": "Image and text"
    }
  ]
}
{% endschema %}