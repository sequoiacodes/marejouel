{% doc %}
  @prompt
    Create a flexible image and text section with one side displaying a tall, narrow image with portrait orientation and the other side containing customizable text content. The image should have full height and width controls optimized for tall portrait images, with custom dimensions and aspect ratio controls that favor vertical layouts. Include comprehensive settings for layout control (image left/right positioning), complete image sizing with height and width controls specifically for tall narrow images, and styling controls. For the text side, structure the content in this order: subheading first, then main heading, then body text. Provide full control over each text element with individual formatting options - including font sizes, colors, weights, line heights, spacing, and text alignment controls (left, center, right, justify). Add text justification settings for proper text alignment. Include background colors, padding controls, and mobile responsiveness. The section should allow merchants to easily swap positions and fully customize all text elements with complete alignment control and tall image dimensions independently.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-image-text-section-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: {{ block.settings.padding_top }}px {{ block.settings.padding_horizontal }}px {{ block.settings.padding_bottom }}px;
  }

  .ai-image-text-container-{{ ai_gen_id }} {
    display: flex;
    align-items: stretch;
    gap: {{ block.settings.content_gap }}px;
    max-width: {{ block.settings.max_width }}px;
    margin: 0 auto;
  }

  .ai-image-text-container-{{ ai_gen_id }}.reverse {
    flex-direction: row-reverse;
  }

  .ai-image-side-{{ ai_gen_id }} {
    flex: 0 0 {{ block.settings.image_width }}%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-image-wrapper-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.image_height }}px;
    position: relative;
    overflow: hidden;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-image-wrapper-{{ ai_gen_id }} img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .ai-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-text-side-{{ ai_gen_id }} {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: {{ block.settings.text_padding_vertical }}px {{ block.settings.text_padding_horizontal }}px;
    text-align: {{ block.settings.text_alignment }};
  }

  .ai-subheading-{{ ai_gen_id }} {
    font-size: {{ block.settings.subheading_font_size }}px;
    color: {{ block.settings.subheading_color }};
    font-weight: {{ block.settings.subheading_font_weight }};
    line-height: {{ block.settings.subheading_line_height }};
    letter-spacing: {{ block.settings.subheading_letter_spacing }}em;
    margin: 0 0 {{ block.settings.subheading_margin_bottom }}px;
    text-transform: {{ block.settings.subheading_text_transform }};
  }

  .ai-heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_font_size }}px;
    color: {{ block.settings.heading_color }};
    font-weight: {{ block.settings.heading_font_weight }};
    line-height: {{ block.settings.heading_line_height }};
    letter-spacing: {{ block.settings.heading_letter_spacing }}em;
    margin: 0 0 {{ block.settings.heading_margin_bottom }}px;
    text-transform: {{ block.settings.heading_text_transform }};
  }

  .ai-body-text-{{ ai_gen_id }} {
    font-size: {{ block.settings.body_font_size }}px;
    color: {{ block.settings.body_color }};
    font-weight: {{ block.settings.body_font_weight }};
    line-height: {{ block.settings.body_line_height }};
    letter-spacing: {{ block.settings.body_letter_spacing }}em;
    margin: 0;
    text-transform: {{ block.settings.body_text_transform }};
  }

  @media screen and (max-width: 768px) {
    .ai-image-text-container-{{ ai_gen_id }} {
      flex-direction: column;
      gap: {{ block.settings.mobile_gap }}px;
    }

    .ai-image-text-container-{{ ai_gen_id }}.reverse {
      flex-direction: column;
    }

    .ai-image-side-{{ ai_gen_id }} {
      flex: none;
      width: 100%;
    }

    .ai-image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.mobile_image_height }}px;
    }

    .ai-text-side-{{ ai_gen_id }} {
      padding: {{ block.settings.mobile_text_padding }}px;
      text-align: {{ block.settings.mobile_text_alignment }};
    }

    .ai-subheading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_subheading_font_size }}px;
    }

    .ai-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_heading_font_size }}px;
    }

    .ai-body-text-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_body_font_size }}px;
    }
  }
{% endstyle %}

<div class="ai-image-text-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-image-text-container-{{ ai_gen_id }} {% if block.settings.image_position == 'right' %}reverse{% endif %}">
    <div class="ai-image-side-{{ ai_gen_id }}">
      <div class="ai-image-wrapper-{{ ai_gen_id }}">
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width: 800 }}"
            alt="{{ block.settings.image.alt | escape }}"
            loading="lazy"
            width="{{ block.settings.image.width }}"
            height="{{ block.settings.image.height }}"
          >
        {% else %}
          <div class="ai-image-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
          </div>
        {% endif %}
      </div>
    </div>

    <div class="ai-text-side-{{ ai_gen_id }}">
      {% if block.settings.subheading != blank %}
        <div class="ai-subheading-{{ ai_gen_id }}">
          {{ block.settings.subheading }}
        </div>
      {% endif %}

      {% if block.settings.heading != blank %}
        <h2 class="ai-heading-{{ ai_gen_id }}">
          {{ block.settings.heading }}
        </h2>
      {% endif %}

      {% if block.settings.body_text != blank %}
        <div class="ai-body-text-{{ ai_gen_id }}">
          {{ block.settings.body_text }}
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image and text",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 800,
      "max": 1600,
      "step": 50,
      "unit": "px",
      "label": "Maximum width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "content_gap",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Gap between image and text",
      "default": 40
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Top padding",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Bottom padding",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 20
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_width",
      "min": 30,
      "max": 70,
      "step": 5,
      "unit": "%",
      "label": "Image width",
      "default": 50
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 300,
      "max": 800,
      "step": 25,
      "unit": "px",
      "label": "Image height",
      "default": 600
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Text content"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Introducing"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our latest collection"
    },
    {
      "type": "textarea",
      "id": "body_text",
      "label": "Body text",
      "default": "Discover our carefully curated selection of premium products designed to elevate your everyday experience."
    },
    {
      "type": "header",
      "content": "Text layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "justify",
          "label": "Justify"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "text_padding_vertical",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Text vertical padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "text_padding_horizontal",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Text horizontal padding",
      "default": 40
    },
    {
      "type": "header",
      "content": "Subheading style"
    },
    {
      "type": "range",
      "id": "subheading_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Color",
      "default": "#666666"
    },
    {
      "type": "select",
      "id": "subheading_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "subheading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.4
    },
    {
      "type": "range",
      "id": "subheading_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0
    },
    {
      "type": "select",
      "id": "subheading_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "range",
      "id": "subheading_margin_bottom",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Bottom margin",
      "default": 10
    },
    {
      "type": "header",
      "content": "Heading style"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Font size",
      "default": 36
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Color",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "heading_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "heading_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0
    },
    {
      "type": "select",
      "id": "heading_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "none"
    },
    {
      "type": "range",
      "id": "heading_margin_bottom",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Bottom margin",
      "default": 20
    },
    {
      "type": "header",
      "content": "Body text style"
    },
    {
      "type": "range",
      "id": "body_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "color",
      "id": "body_color",
      "label": "Color",
      "default": "#333333"
    },
    {
      "type": "select",
      "id": "body_font_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "body_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.6
    },
    {
      "type": "range",
      "id": "body_letter_spacing",
      "min": 0,
      "max": 0.5,
      "step": 0.1,
      "unit": "em",
      "label": "Letter spacing",
      "default": 0
    },
    {
      "type": "select",
      "id": "body_text_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "none"
    },
    {
      "type": "header",
      "content": "Mobile settings"
    },
    {
      "type": "range",
      "id": "mobile_image_height",
      "min": 200,
      "max": 500,
      "step": 25,
      "unit": "px",
      "label": "Mobile image height",
      "default": 300
    },
    {
      "type": "range",
      "id": "mobile_gap",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Mobile gap",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_text_padding",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Mobile text padding",
      "default": 20
    },
    {
      "type": "select",
      "id": "mobile_text_alignment",
      "label": "Mobile text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        },
        {
          "value": "justify",
          "label": "Justify"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "mobile_subheading_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Mobile subheading font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "mobile_heading_font_size",
      "min": 18,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Mobile heading font size",
      "default": 28
    },
    {
      "type": "range",
      "id": "mobile_body_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Mobile body font size",
      "default": 14
    }
  ],
  "presets": [
    {
      "name": "Image and text"
    }
  ]
}
{% endschema %}