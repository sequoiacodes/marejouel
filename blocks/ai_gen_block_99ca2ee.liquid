{% doc %}
  @prompt
    Create a flexible image and text section with one side displaying an image and the other side containing customizable text content. The image should have maximum height options and full height controls. Include comprehensive settings for layout control (image left/right positioning), image sizing with height maximization options, and styling controls. For the text side, structure the content in this order: subheading first, then main heading, then body text. Provide full control over each text element with individual formatting options - including font sizes, colors, weights, line heights, and spacing. Add background colors, padding controls, and mobile responsiveness. The section should allow merchants to easily swap positions and fully customize all text elements independently to match their brand aesthetic.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-image-text-section-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: {{ block.settings.section_padding_top }}px 0 {{ block.settings.section_padding_bottom }}px;
  }

  .ai-image-text-container-{{ ai_gen_id }} {
    display: flex;
    align-items: stretch;
    gap: {{ block.settings.content_gap }}px;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-image-text-container-{{ ai_gen_id }}.reverse {
    flex-direction: row-reverse;
  }

  .ai-image-text-image-wrapper-{{ ai_gen_id }} {
    flex: 1;
    position: relative;
    overflow: hidden;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-image-text-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    {% if block.settings.max_height_enable %}
      max-height: {{ block.settings.max_height }}px;
    {% endif %}
    {% if block.settings.full_height %}
      min-height: 500px;
    {% endif %}
  }

  .ai-image-text-placeholder-{{ ai_gen_id }} {
    width: 100%;
    {% if block.settings.max_height_enable %}
      max-height: {{ block.settings.max_height }}px;
    {% endif %}
    {% if block.settings.full_height %}
      min-height: 500px;
    {% else %}
      min-height: 300px;
    {% endif %}
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-image-text-placeholder-{{ ai_gen_id }} svg {
    width: 100px;
    height: 100px;
    opacity: 0.5;
  }

  .ai-image-text-content-{{ ai_gen_id }} {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: {{ block.settings.text_padding }}px;
    background-color: {{ block.settings.text_background_color }};
    border-radius: {{ block.settings.text_border_radius }}px;
  }

  .ai-image-text-subheading-{{ ai_gen_id }} {
    font-size: {{ block.settings.subheading_size }}px;
    color: {{ block.settings.subheading_color }};
    font-weight: {{ block.settings.subheading_weight }};
    line-height: {{ block.settings.subheading_line_height }};
    margin: 0 0 {{ block.settings.subheading_spacing }}px 0;
    text-transform: {{ block.settings.subheading_transform }};
  }

  .ai-image-text-heading-{{ ai_gen_id }} {
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    font-weight: {{ block.settings.heading_weight }};
    line-height: {{ block.settings.heading_line_height }};
    margin: 0 0 {{ block.settings.heading_spacing }}px 0;
    text-transform: {{ block.settings.heading_transform }};
  }

  .ai-image-text-body-{{ ai_gen_id }} {
    font-size: {{ block.settings.body_size }}px;
    color: {{ block.settings.body_color }};
    font-weight: {{ block.settings.body_weight }};
    line-height: {{ block.settings.body_line_height }};
    margin: 0 0 {{ block.settings.text_body_spacing }}px 0;
  }

  .ai-image-text-body-{{ ai_gen_id }} p {
    margin: 0 0 1em 0;
  }

  .ai-image-text-body-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  @media screen and (max-width: 768px) {
    .ai-image-text-container-{{ ai_gen_id }} {
      flex-direction: column;
      gap: {{ block.settings.mobile_gap }}px;
    }

    .ai-image-text-container-{{ ai_gen_id }}.reverse {
      flex-direction: column;
    }

    .ai-image-text-subheading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_subheading_size }}px;
      margin-bottom: {{ block.settings.mobile_subheading_spacing }}px;
    }

    .ai-image-text-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_heading_size }}px;
      margin-bottom: {{ block.settings.mobile_heading_spacing }}px;
    }

    .ai-image-text-body-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_body_size }}px;
      margin-bottom: {{ block.settings.mobile_body_spacing }}px;
    }

    .ai-image-text-content-{{ ai_gen_id }} {
      padding: {{ block.settings.mobile_text_padding }}px;
    }

    .ai-image-text-image-{{ ai_gen_id }} {
      {% if block.settings.mobile_full_height %}
        min-height: 300px;
      {% endif %}
    }

    .ai-image-text-placeholder-{{ ai_gen_id }} {
      {% if block.settings.mobile_full_height %}
        min-height: 300px;
      {% else %}
        min-height: 200px;
      {% endif %}
    }
  }
{% endstyle %}

<div class="ai-image-text-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-image-text-container-{{ ai_gen_id }} {% if block.settings.layout_position == 'image_right' %}reverse{% endif %}">
    <div class="ai-image-text-image-wrapper-{{ ai_gen_id }}">
      {% if block.settings.image %}
        <img
          src="{{ block.settings.image | image_url: width: 1200 }}"
          alt="{{ block.settings.image.alt | escape }}"
          class="ai-image-text-image-{{ ai_gen_id }}"
          loading="lazy"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.height }}"
        >
      {% else %}
        <div class="ai-image-text-placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
        </div>
      {% endif %}
    </div>

    <div class="ai-image-text-content-{{ ai_gen_id }}">
      {% if block.settings.subheading != blank %}
        <div class="ai-image-text-subheading-{{ ai_gen_id }}">
          {{ block.settings.subheading }}
        </div>
      {% endif %}

      {% if block.settings.heading != blank %}
        <h2 class="ai-image-text-heading-{{ ai_gen_id }}">
          {{ block.settings.heading }}
        </h2>
      {% endif %}

      {% if block.settings.body_text != blank %}
        <div class="ai-image-text-body-{{ ai_gen_id }}">
          {{ block.settings.body_text }}
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image and text",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "layout_position",
      "label": "Image position",
      "options": [
        {
          "value": "image_left",
          "label": "Left"
        },
        {
          "value": "image_right",
          "label": "Right"
        }
      ],
      "default": "image_left"
    },
    {
      "type": "range",
      "id": "content_gap",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Content gap",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_gap",
      "min": 0,
      "max": 60,
      "step": 10,
      "unit": "px",
      "label": "Mobile gap",
      "default": 30
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "checkbox",
      "id": "max_height_enable",
      "label": "Enable maximum height",
      "default": false
    },
    {
      "type": "range",
      "id": "max_height",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Maximum height",
      "default": 500
    },
    {
      "type": "checkbox",
      "id": "full_height",
      "label": "Full height image",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "mobile_full_height",
      "label": "Mobile full height",
      "default": false
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Subheading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Image with text"
    },
    {
      "type": "richtext",
      "id": "body_text",
      "label": "Body text",
      "default": "<p>Pair large text with an image to give focus to your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>"
    },
    {
      "type": "header",
      "content": "Subheading style"
    },
    {
      "type": "range",
      "id": "subheading_size",
      "min": 12,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "mobile_subheading_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Mobile font size",
      "default": 12
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Color",
      "default": "#666666"
    },
    {
      "type": "select",
      "id": "subheading_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "500"
    },
    {
      "type": "select",
      "id": "subheading_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "range",
      "id": "subheading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.4
    },
    {
      "type": "range",
      "id": "subheading_spacing",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 8
    },
    {
      "type": "range",
      "id": "mobile_subheading_spacing",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Mobile bottom spacing",
      "default": 6
    },
    {
      "type": "header",
      "content": "Heading style"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Font size",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_heading_size",
      "min": 14,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Mobile font size",
      "default": 24
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Color",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "select",
      "id": "heading_transform",
      "label": "Text transform",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "uppercase",
          "label": "Uppercase"
        },
        {
          "value": "lowercase",
          "label": "Lowercase"
        },
        {
          "value": "capitalize",
          "label": "Capitalize"
        }
      ],
      "default": "none"
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "heading_spacing",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 16
    },
    {
      "type": "range",
      "id": "mobile_heading_spacing",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Mobile bottom spacing",
      "default": 12
    },
    {
      "type": "header",
      "content": "Body text style"
    },
    {
      "type": "range",
      "id": "body_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "range",
      "id": "mobile_body_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Mobile font size",
      "default": 14
    },
    {
      "type": "color",
      "id": "body_color",
      "label": "Color",
      "default": "#666666"
    },
    {
      "type": "select",
      "id": "body_weight",
      "label": "Font weight",
      "options": [
        {
          "value": "300",
          "label": "Light"
        },
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "range",
      "id": "body_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Line height",
      "default": 1.6
    },
    {
      "type": "range",
      "id": "text_body_spacing",
      "min": 0,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "mobile_body_spacing",
      "min": 0,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Mobile bottom spacing",
      "default": 15
    },
    {
      "type": "header",
      "content": "Text container"
    },
    {
      "type": "color",
      "id": "text_background_color",
      "label": "Background color",
      "default": "rgba(0,0,0,0)"
    },
    {
      "type": "range",
      "id": "text_padding",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_text_padding",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Mobile padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "text_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Top padding",
      "default": 50
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Bottom padding",
      "default": 50
    }
  ],
  "presets": [
    {
      "name": "Image and text"
    }
  ],
  "tag": null
}
{% endschema %}