<style>
  .video-section-header {
    text-align: center;
    margin-bottom: 40px;
  }

  .video-subtitle {
    font-size: 16px;
    font-weight: 500;
    text-transform: uppercase;
    margin-bottom: 10px;
  }

  .video-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
  }

  .video-item {
    position: relative;
    padding-top: 56.25%; /* 16:9 ratio */
    background-color: #000;
    overflow: hidden;
  }

  .video-item iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  @media(max-width: 768px) {
    .customstyle{{ section.id }} {
      padding: {{ section.settings.paddingmobile }};
      margin: {{ section.settings.marginmobile }};
    }
  }
</style>
<div class="customstyle{{ section.id }}" style="padding: {{ section.settings.paddingsection }}; margin: {{ section.settings.marginsection }};">
  <div class="{{ section.settings.setwidth }}" data-aos="{{ section.settings.animation }}">

    <!-- Parent Title Section -->
    <div class="video-section-header">
      {% if section.settings.subtitle != blank %}
        <p class="video-subtitle" style="color: {{ section.settings.color }};">{{ section.settings.subtitle }}</p>
      {% endif %}
      {% if section.settings.title != blank %}
        <h2 class="{{ section.settings.size_text }}" style="color: {{ section.settings.color }};">{{ section.settings.title }}</h2>
      {% endif %}
    </div>

    <!-- Child Video Grid -->
    <div class="video-grid">
      {% for block in section.blocks %}
        <div class="video-item">
          {% if block.settings.video_url.type == "youtube" %}
            <iframe src="https://www.youtube.com/embed/{{ block.settings.video_url.id }}" frameborder="0" allowfullscreen></iframe>
          {% elsif block.settings.video_url.type == "vimeo" %}
            <iframe src="https://player.vimeo.com/video/{{ block.settings.video_url.id }}" frameborder="0" allowfullscreen></iframe>
          {% endif %}
        </div>
      {% endfor %}
    </div>

  </div>
</div>
{% schema %}
{
  "name": "Video Gallery",
  "settings": [
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Our Featured Videos"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Watch Now"
    },
    {
      "type": "select",
      "id": "size_text",
      "default": "h2",
      "options": [
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" }
      ],
      "label": "Title Size"
    },
    {
      "type": "select",
      "id": "animation",
      "label": "Animation",
      "default": "",
      "options": [
        { "value": "", "label": "None" },
        { "value": "fade", "label": "Fade" },
        { "value": "fade-up", "label": "Fade Up" },
        { "value": "fade-down", "label": "Fade Down" },
        { "value": "zoom-in", "label": "Zoom In" },
        { "value": "zoom-out", "label": "Zoom Out" }
      ]
    },
    {
      "type": "color",
      "id": "color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "select",
      "id": "setwidth",
      "label": "Container Width",
      "default": "container",
      "options": [
        { "value": "container", "label": "Boxed" },
        { "value": "container-fluid", "label": "Full Width" }
      ]
    },
    {
      "type": "text",
      "id": "paddingsection",
      "label": "Padding Desktop",
      "default": "60px 0px 60px 0px"
    },
    {
      "type": "text",
      "id": "paddingmobile",
      "label": "Padding Mobile",
      "default": "40px 0px 40px 0px"
    },
    {
      "type": "text",
      "id": "marginsection",
      "label": "Margin Desktop",
      "default": "0px 0px 0px 0px"
    },
    {
      "type": "text",
      "id": "marginmobile",
      "label": "Margin Mobile",
      "default": "0px 0px 0px 0px"
    }
  ],
  "blocks": [
    {
      "type": "video_block",
      "name": "Video",
      "settings": [
        {
          "type": "video_url",
          "id": "video_url",
          "label": "Video Link",
          "accept": ["youtube", "vimeo"]
        }
      ]
    }
  ],
  "max_blocks": 8,
  "presets": [
    {
      "name": "Video Gallery",
      "category": "Video",
      "blocks": [
        { "type": "video_block" },
        { "type": "video_block" },
        { "type": "video_block" },
        { "type": "video_block" }
      ]
    }
  ]
}
{% endschema %}
